## 谈谈你对Nacos配置动态更新原理的理解
1. Nacos Client端需要去获取服务端变更的配置内容，但前提是需要先进行比较。也就是说将客 户端本地缓存的配置信息和服务器端获取的配置信息进行比较。一旦发现本地缓存的配置内容和服务 端的配置内容有差异，那么，就表示服务器端的配置有更新。于是，需要把更新的配置拉到本地，在这个过程中，有可能因为客户端的配置比较多，而导致对比的时间较长，使得配置的同步效率非常低。
2. 1、减少网络通信的数据量。客户端把需要进行对比的配置按配置项进行分片，每个分片的大小是3000项，也就是说每一次最多拿3000个配置项去Nacos Server端进行对比。
3. 分阶段进行对比和更新。第一阶段，客户端把3000个配置项的Key以及对应Value的MD5值 拼接成一个字符串，然后发送到Nacos Server端进行判断，服务端会逐个比较这些配置中MD5不同 的Key，把存在更新的Key返回给客户端。第二阶段，客户端拿到这些数据有变更的Key，循环逐个调用服务端，从而获取这些Key对应的Value值

## 聊一聊 TCC 补偿机制
1. TCC ✁分布式事务✁一种解决方案。它采用了补偿机制，其核心思想✁：针对 每个操作，都要注册一个与其对应✁确认和补偿（撤销）操作。TCC（Try-Confirm-Cancel）包括三段流程：
2. try 阶段：尝试去执行，完成所有业务✁一致性检查，预留必须✁业务资源
3. Confirm 阶段：该阶段对业务进行确认提交，不做任何检查，因为 try 阶段已经检 查过了，默认 Confirm 阶段✁不会出错
4. Cancel 阶段：若业务执行失败，则进入该阶段，它会释放 try 阶段占用✁所有业 务资源，并回滚 Confirm 阶段执行✁所有操作



