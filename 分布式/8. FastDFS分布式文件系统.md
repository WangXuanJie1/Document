### FastDFS是一个开源的 轻量级 分布式文件系统。它解决了大数据量存储和负载均衡问题。特别适合以 中小[4k-500M]文件为载体的在线服务

### FastDFS和Hdfs
1. FastDFS和HDFS（Hadoop Distributed File System）是两种不同的分布式文件系统，它们有一些区别。
2. 总的来说，FastDFS更适合对文件上传和下载速度有较高要求的场景，而HDFS更适合大规模数据的存储和处理。
3. 架构和设计：
   - FastDFS：FastDFS采用了分布式存储和负载均衡的设计，由跟踪服务器（Tracker Server）和存储服务器（Storage Server）组成。文件被分成小块，并分散存储在不同的存储服务器上。
   - HDFS：HDFS是Hadoop生态系统的一部分，它采用了主从架构，由一个NameNode和多个DataNode组成。文件被分成块，并复制到多个DataNode上。
4. 数据复制：
   - FastDFS：FastDFS默认不进行数据复制，只有在需要高可靠性时才进行手动配置。
   - HDFS：HDFS通过数据复制来提供高可靠性，每个文件块会被复制到多个DataNode上，默认情况下会复制3份。
5. 文件大小限制：
   - FastDFS：FastDFS对单个文件的大小没有限制。
   - HDFS：HDFS对单个文件的大小有限制，默认为128MB，但可以通过配置进行调整。
6. 适用场景：
   - FastDFS：FastDFS适用于对文件的上传和下载速度有较高要求的场景，如图片、音视频等小文件的存储和访问。
   - HDFS：HDFS适用于大规模数据的存储和处理，特别是适合批量处理和数据分析等场景。


### 为什么要有分布式文件系统 单机时代
1. 优点：文件访问比较便利，项目直接引用，实现起来简单，无需任何复杂技术，保存文件和访问文件都 很方便。
2. 缺点：一方面，文件和代码耦合在一起，文件越多存放越混乱。另一方面，如果流量比较大，静态文件 访问会占据一定的资源，影响正常业务进行，不利于网站快速发展。 独立文件服务器
3. 优点：Web/App服务器可以更专注发挥动态处理的能力。独立存储，更方便做扩容、容灾和数据迁移； 方便做图片等资源请求的负载均衡，方便应用各种缓存策略（HTTP Header、Proxy Cache等），也更 加方便迁移到CDN。
4. 缺点：单机存在性能瓶颈，容灾、垂直扩展性稍差 分布式文件系统
5. 优点：扩展能力: 毫无疑问，扩展能力是一个分布式文件系统最重要的特点；高可用性: 在分布式文件 系统中，高可用性包含两层，一是整个文件系统的可用性，二是数据的完整和一致性；弹性存储: 可以 根据业务需要灵活地增加或缩减数据存储以及增删存储池中的资源，而不需要中断系统运行。
6. 缺点：系统复杂度稍高，需要更多服务器。

### FastDFS特性 
1. 分组存储，灵活简洁、对等结构，不存在单点
2. 文件不分块存储，上传的文件和OS文件系统中的文件一一对应
3. 文件ID由FastDFS生成，作为文件访问凭证，FastDFS不需要传统的name server 和流行的web server无缝衔接，
4. FastDFS已提供apache和nginx扩展模块 中、小文件均可以很好支持，支持海量小文件存储 支持多块磁盘，支持单盘数据恢复 支持相同内容的文件只保存一份，节约磁盘空间
5. 支持在线扩容 支持主从文件 存储服务器上可以保存文件属性（meta-data）V2.0网络通信采用libevent，
6. 支持大并发访问，整 体性能更好下载文件支持多线程方式，支持断点续传

### 构成
1. FastDFS由客户端(Client)、 跟踪服务器(Tracker Server)和存储服务器(Storage Server)构成。 客户端（client）
2. 客户端（client），作为业务请求的发起方，通过专有接口，使用TCP/IP协议与跟踪器服务器或存储节 点进行数据交互。 跟踪器（tracker）
3. Trackerserver作用是负载均衡和调度，通过Tracker server在文件上传时可以根据一些策略找到 Storage server提供文件上传服务。可以将tracker称为追踪服务器或调度服务器。 跟踪器在访问上起负载均衡的作用。可以随时增加或下线而不会影响线上服务。 存储节点（storage）
4. Storageserver作用是文件存储，客户端上传的文件最终存储在Storage服务器上，Storage server没有 实现自己的文件系统而是利用操作系统的文件系统来管理文件。可以将storage称为存储服务器。
5. 存储节点中的服务器均可以随时增加或下线而不会影响线上服务。

